(this.webpackJsonpapi_playground=this.webpackJsonpapi_playground||[]).push([[0],{258:function(e,t,n){},259:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(23),s=n.n(o),c=(n(39),n(31)),i=n(4),l=n.n(i),u=n(9),v=n(24),p=n(25),h=n(32),f=n(30),m=n(33),d=n(261),E=function(e){var t=e.json,n="string"===typeof t?t:JSON.stringify(t,null,"  ");return r.a.createElement(d.a,{language:"json"},n)},y=n(28),g=n.n(y),b=n(29),k=n.n(b),w=(n(256),n(257),[{id:"CAT_FACTS",req:{method:"get",url:"https://cat-fact.herokuapp.com/facts/random?animal_type=cat&amount=2"}},{id:"FIRST_CAT",req:{method:"get",url:"https://cat-fact.herokuapp.com/facts/{{responses.CAT_FACTS.0._id}}"}}]),q=function(e,t){console.log("context",t);var n=Object(m.a)({},e);return Object.keys(n).forEach((function(e){var a=n[e];n[e]=function(e,t){var n=e.replace(/{{(.*?)}}/g,(function(e,n){return console.log("valueWithContext: match",{match:e,context_path:n,context:t}),a=t,n.split(".").reduce((function(e,t){if(e)return e[t]}),a);var a}));return console.log("valueWithContext",{value:e,value_result:n}),n}(a,t)})),n},x=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).executeEvents=Object(u.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,r,o,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.history,r={responses:n.reduce((function(e,t){return t.response&&(e[t.request.id]=t.response),e}),{})},o=JSON.parse(JSON.stringify(t)),console.log("newEvent cane: ",o),o.req=q(o.req,r),a.addHistoryEventRequest(t,o),console.log("newEvent",o),e.prev=7,e.next=10,g()(o.req);case 10:s=e.sent,a.addHistoryEventResponse(s.data),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),console.log("err",e.t0);case 17:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t){return e.apply(this,arguments)}}(),n=a.getEvents(a.state);try{console.log("events String: ",n,typeof n),r=JSON.parse(n),console.log("events ARRAY: ",r,typeof r),r.reduce((function(e,n){return e.then((function(){return t(n)}))}),Promise.resolve())}catch(o){console.error(o)}case 3:case"end":return e.stop()}}),e)}))),a.state={events:[],history:[]},a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=w;this.setEvents(JSON.stringify(e,"  ","  "))}},{key:"setEvents",value:function(e){this.setState({events:e})}},{key:"getEvents",value:function(){return this.state.events}},{key:"addHistoryEventRequest",value:function(e,t){this.setState({history:this.state.history.concat({original:e,request:t,response:null})})}},{key:"addHistoryEventResponse",value:function(e){var t=Object(c.a)(this.state.history),n=t.pop();n.response=e,this.setState({history:t.concat(n)})}},{key:"clear",value:function(){this.setState({history:[]})}},{key:"render",value:function(){var e=this,t=this.state.history;return r.a.createElement("div",null,r.a.createElement(C,{value:this.state.events,onChange:function(t){e.setEvents(t)}}),r.a.createElement("button",{onClick:function(){return e.executeEvents()}},"EXECUTE EVENTS"),r.a.createElement("button",{onClick:function(){return e.clear()}},"CLEAR"),r.a.createElement(j,{history:t}))}}]),n}(r.a.Component),S=function(e){var t=e.eventHistory,n=t.original,a=t.request,o=t.response;return r.a.createElement("div",null,r.a.createElement("div",{className:"colLeft",style:{float:"left",width:"33%"}},n&&r.a.createElement(E,{json:n})),r.a.createElement("div",{className:"colMiddle",style:{float:"left",width:"33%"}},a&&r.a.createElement(E,{json:a})),r.a.createElement("div",{className:"colRight",style:{float:"left",width:"33%"}},o&&r.a.createElement(E,{json:o})),r.a.createElement("div",{style:{clear:"both"}}))},j=function(e){var t=e.history,n=void 0===t?[]:t;return r.a.createElement("div",null,n.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(S,{eventHistory:e}))})))},C=function(e){var t=e.value,n=void 0===t?"{}":t,a=e.onChange;if("undefined"!==typeof window){var o="string"===typeof n?n:JSON.stringify(n,"  ","  ");return r.a.createElement("span",null,r.a.createElement(k.a,{mode:"json",theme:"github",name:Math.random()+"",editorProps:{$blockScrolling:!0},height:"500px",width:"1200px",value:o,onChange:a}))}return null},O=x;n(258);var N=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("p",null,"API Playground")),r.a.createElement("div",{className:"App-content"},r.a.createElement("p",{className:"App-intro"},"This is a playground where you can run api request in sequence. ",r.a.createElement("br",null),"in every request you can specify an ",r.a.createElement("i",null,"id")," ",r.a.createElement("br",null),"the request is specified in the ",r.a.createElement("i",null,"req")," property, it use the ",r.a.createElement("a",{href:"https://github.com/axios/axios#request-config"},"axios format")," ",r.a.createElement("br",null),"you can futfill your request using previous request responses using  ","{{}}",". every response is stored in ",r.a.createElement("i",null,"responses.REQ_ID"),".  ",r.a.createElement("br",null)),r.a.createElement(O,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},34:function(e,t,n){e.exports=n(259)},39:function(e,t,n){}},[[34,1,2]]]);
//# sourceMappingURL=main.251b3e28.chunk.js.map