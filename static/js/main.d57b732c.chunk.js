(this.webpackJsonpapi_playground=this.webpackJsonpapi_playground||[]).push([[0],{258:function(e,t,n){},259:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(23),s=n.n(o),i=(n(39),n(31)),c=n(4),l=n.n(c),u=n(9),p=n(24),f=n(25),v=n(32),h=n(30),m=n(261),d=function(e){var t=e.json,n="string"===typeof t?t:JSON.stringify(t,null,"  ");return a.a.createElement(m.a,{language:"json"},n)},y=n(28),E=n.n(y),g=n(29),b=n.n(g),k=(n(256),n(257),n(33));var w=function e(t,n){var r=Object(k.a)({},t);return Object.keys(r).filter((function(e){return["object","string","number"].includes(typeof r[e])})).forEach((function(t){var a=r[t];"string"===typeof a?r[t]=function(e,t){return e.replace(/{{(.*?)}}/g,(function(e,n){return r=t,n.split(".").reduce((function(e,t){if(e)return e[t]}),r);var r}))}(a,n):"object"===typeof a&&(r[t]=e(a,n))})),r},q=[{id:"CAT_FACTS",req:{method:"get",url:"https://cat-fact.herokuapp.com/facts/random?animal_type=cat&amount=2"}},{id:"FIRST_CAT",req:{method:"get",url:"https://cat-fact.herokuapp.com/facts/{{responses.CAT_FACTS.0._id}}"}}],j=function(e){Object(v.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,e)).executeEvents=Object(u.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,o,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.state.history,a={responses:n.reduce((function(e,t){return t.response&&(e[t.request.id]=t.response),e}),{})},o=JSON.parse(JSON.stringify(t)),console.log("newEvent cane: ",o),o.req=w(o.req,a),r.addHistoryEventRequest(t,o),console.log("newEvent",o),e.prev=7,e.next=10,E()(o.req);case 10:s=e.sent,r.addHistoryEventResponse(s.data),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),console.log("err",e.t0);case 17:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t){return e.apply(this,arguments)}}(),n=r.getEvents(r.state);try{console.log("events String: ",n,typeof n),a=JSON.parse(n),console.log("events ARRAY: ",a,typeof a),a.reduce((function(e,n){return e.then((function(){return t(n)}))}),Promise.resolve())}catch(o){console.error(o)}case 3:case"end":return e.stop()}}),e)}))),r.state={events:[],history:[]},r}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=q;this.setEvents(JSON.stringify(e,"  ","  "))}},{key:"setEvents",value:function(e){this.setState({events:e})}},{key:"getEvents",value:function(){return this.state.events}},{key:"addHistoryEventRequest",value:function(e,t){this.setState({history:this.state.history.concat({original:e,request:t,response:null})})}},{key:"addHistoryEventResponse",value:function(e){var t=Object(i.a)(this.state.history),n=t.pop();n.response=e,this.setState({history:t.concat(n)})}},{key:"clear",value:function(){this.setState({history:[]})}},{key:"render",value:function(){var e=this,t=this.state.history;return a.a.createElement("div",null,a.a.createElement(N,{value:this.state.events,onChange:function(t){e.setEvents(t)}}),a.a.createElement("button",{onClick:function(){return e.executeEvents()}},"EXECUTE EVENTS"),a.a.createElement("button",{onClick:function(){return e.clear()}},"CLEAR"),a.a.createElement(O,{history:t}))}}]),n}(a.a.Component),S=function(e){var t=e.eventHistory,n=t.original,r=t.request,o=t.response;return a.a.createElement("div",null,a.a.createElement("div",{className:"colLeft",style:{float:"left",width:"33%"}},n&&a.a.createElement(d,{json:n})),a.a.createElement("div",{className:"colMiddle",style:{float:"left",width:"33%"}},r&&a.a.createElement(d,{json:r})),a.a.createElement("div",{className:"colRight",style:{float:"left",width:"33%"}},o&&a.a.createElement(d,{json:o})),a.a.createElement("div",{style:{clear:"both"}}))},O=function(e){var t=e.history,n=void 0===t?[]:t;return a.a.createElement("div",null,n.map((function(e,t){return a.a.createElement("div",{key:t},a.a.createElement(S,{eventHistory:e}))})))},N=function(e){var t=e.value,n=void 0===t?"{}":t,r=e.onChange;if("undefined"!==typeof window){var o="string"===typeof n?n:JSON.stringify(n,"  ","  ");return a.a.createElement("span",null,a.a.createElement(b.a,{mode:"json",theme:"github",name:Math.random()+"",editorProps:{$blockScrolling:!0},height:"500px",width:"1200px",value:o,onChange:r}))}return null},A=j;n(258);var C=function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("p",null,"API Playground")),a.a.createElement("div",{className:"App-content"},a.a.createElement("p",{className:"App-intro"},"This is a playground where you can run api request in sequence. ",a.a.createElement("br",null),"in every request you can specify an ",a.a.createElement("i",null,"id")," ",a.a.createElement("br",null),"the request is specified in the ",a.a.createElement("i",null,"req")," property, it use the ",a.a.createElement("a",{href:"https://github.com/axios/axios#request-config"},"axios format")," ",a.a.createElement("br",null),"you can futfill your request using previous request responses using  ","{{}}",". every response is stored in ",a.a.createElement("i",null,"responses.REQ_ID"),".  ",a.a.createElement("br",null)),a.a.createElement(A,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},34:function(e,t,n){e.exports=n(259)},39:function(e,t,n){}},[[34,1,2]]]);
//# sourceMappingURL=main.d57b732c.chunk.js.map